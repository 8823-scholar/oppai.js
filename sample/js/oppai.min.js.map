/*! oppai.js / @version:0.0.0 @author:dameleon <dameleon@gmail.com> @license:MIT */ 
{"version":3,"file":"oppai.min.js.map","sources":["src/oppai.js"],"names":["global","document","tt","Oppai","img","canvas","vertex","rect","this","init","Animation2D","type","getRangedNumber","target","min","max","getTouchInfo","event","name","supportTouch","changedTouches","NS","events","touchStart","touchMove","touchEnd","isSmartphone","env","android","ios","easingFunctions","linear","t","b","c","d","bounseout","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","img_path","viewer_selector","set_1","set_2","op_1","op_2","viewer","Image","on","ev","preventDefault","onload","css","position","margin","width","height","background","zoom","get","src","prototype","constructor","threshold","createElement","ctx","getContext","rootCoords","x","y","coords","animation","top","left","addEventListener","appendChild","draw","drawImage","transform","current","next","clearRect","i","iz","save","beginPath","moveTo","lineTo","closePath","clip","triangles","call","restore","setTransform","handleEvent","_startVertex","_deviceMotion","_touchStart","playing","_touchMove","_touchEnd","currentVertex","self","accX","acceleration","accY","_getRangedVertex","_touchAnimation","fromVertex","play","value","isContinue","_getTouchVertex","round","easing","from","to","duration","set","exec","stop","_continue","changein","_loop","_animate","startAt","Date","elapsedTime"],"mappings":"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"}