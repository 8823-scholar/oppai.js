/*! oppai.js / @version:0.0.0 @author:dameleon <dameleon@gmail.com> @license:MIT */ 
{"version":3,"file":"oppai.min.js.map","sources":["src/oppai.js"],"names":["global","document","undefined","Oppai","img","canvas","vertex","rect","this","init","Animation2D","type","getRangedNumber","target","min","max","getTouchInfo","event","name","supportTouch","changedTouches","NS","events","touchStart","touchMove","touchEnd","isSmartphone","easingFunctions","linear","t","b","c","d","bounseout","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","img_path","viewer_selector","set_1","set_2","op_1","op_2","viewer","querySelector","Image","addEventListener","ev","preventDefault","onload","style","position","margin","width","height","background","zoom","src","prototype","constructor","threshold","createElement","ctx","getContext","rootCoords","x","y","coords","animation","canvasStyle","top","left","appendChild","draw","drawImage","transform","current","next","clearRect","i","iz","save","beginPath","moveTo","lineTo","closePath","clip","triangles","call","restore","setTransform","handleEvent","_startVertex","_deviceMotion","_touchStart","playing","_touchMove","_touchEnd","currentVertex","self","accX","acceleration","accY","_getRangedVertex","_touchAnimation","fromVertex","play","value","isContinue","_getTouchVertex","round","easing","from","to","duration","set","exec","stop","_continue","changein","_loop","_animate","startAt","Date","elapsedTime"],"mappings":"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"}